- [ ] # Daily Plan
- [ ] Acwing + LeetCode
- [ ] 
# Daily Study
## audit_util
aud_util模式和表的创建
```sql
define schema = aud_util

define tspace = users

create user &&schema IDENTIFIED by 123 default tablespace &&tspace;
```


现在我获得了审计记录的xml文件，我现在要对这些xml文件进行分析，我的任务如下： 1.首先我得读取远程连接系统中的xml文件，这个系统我是使用ssh远程连接的，然后获取xml文件后， 2.我需要对XML中的敏感字段进行分析，例如当某个时间段内，突然出现大量的登录，或者插入，或者查询，我能够捕获到这些敏感字段，并对能够触发类似数据库攻击的日志进行获取 3.在捕获到这些类似数据库攻击的行为时，我还需要设计一套前端页面，在页面上，显示出，产生这些攻击的信息，达到告警的效果。 我需要你根据我的需求，给出相关的设计方案，要包括使用的设计语言，中间件，应用，最后按照整个应用的设计流程给出具体方案

### 1. 数据收集

- **工具**：使用`scp` (Secure Copy Protocol) 或者 `rsync` 通过SSH来安全地传输远程服务器上的XML文件到分析系统中。
- **语言**：Shell脚本可以用来自动化这个过程。

### 2. 数据处理与分析

- **语言**：Python，因为它有强大的XML解析库（如`xml.etree.ElementTree`）和数据分析库（如`pandas`）。
- **中间件**：使用消息队列（如RabbitMQ或Apache Kafka）来缓冲和传输数据。
- **数据库**：使用NoSQL数据库如MongoDB来存储和查询XML数据，因为它对于半结构化数据有良好的支持。
- **分析工具**：编写自定义Python脚本来分析XML数据，查找敏感操作模式，如登录尝试、插入或查询的频率异常。

### 3. 告警系统与前端展示

- **前端**：使用JavaScript框架（如React或Angular）来开发用户界面，显示警报和相关的审计信息。
- **后端**：使用Node.js或Python（Flask或Django）来创建一个后端服务，它将处理前端的请求，并从数据库检索数据。
- **告警**：集成电子邮件或短信服务（如SendGrid或Twilio）来发送实时告警。
- **日志分析**：可以使用ELK Stack（Elasticsearch, Logstash, Kibana）来存储、搜索和可视化日志数据。

### 设计流程

1. **环境准备**：
    
    - 在本地或云环境中设置好所需的服务器和服务。
    - 安装必要的软件，如数据库、消息队列和开发环境。
2. **数据收集脚本**：
    
    - 编写Shell脚本来定期从远程系统拉取XML审计日志。
    - 使用`cron`作业来定时执行数据收集脚本。
3. **数据解析和存储**：
    
    - 使用Python来解析XML文件，抽取所需的审计数据。
    - 将解析后的数据发送到消息队列。
    - 消息队列消费者将数据存储到MongoDB数据库。
4. **数据分析引擎**：
    
    - 开发一个数据分析引擎，定期查询数据库，使用统计和机器学习技术分析敏感操作模式。
    - 当检测到异常行为时，触发告警机制。
5. **前端开发**：
    
    - 设计并实现一个前端应用程序，用于展示实时和历史审计数据。
    - 实现用户界面来展示警报信息，以及搜索和查看具体的审计记录。
6. **后端开发**：
    
    - 创建RESTful API来为前端提供数据接口。
    - 集成告警服务，实现数据分析引擎触发的告警通知发送。
7. **测试**：
    
    - 对每个组件进行单元测试和集成测试。
    - 在安全的测试环境中测试整个系统的工作流。
8. **部署与监控**：
    
    - 将应用部署到生产环境。
    - 设置监控和日志记录，确保系统稳定性。
    - 根据需要调整数据分析引擎，优化性能和准确性。
9. **维护与更新**：
    
    - 根据用户反馈和系统日志来进行系统维护。
    - 定期更新系统以应对新的安全威胁和业务需求。
# Daily Problem

