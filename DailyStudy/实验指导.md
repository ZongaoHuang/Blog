# CVE-2017-7504 Java Deserialization
JBoss 4.x JBossMQ JMS 反序列化漏洞

Red Hat JBoss Application Server 是⼀款基于JavaEE的开源应⽤服务器。JBoss AS 4.x及之前版本 中，JbossMQ实现过程的JMS over HTTP Invocation Layer的HTTPServerILServlet.java⽂件存在反 序列化漏洞，远程攻击者可借助特制的序列化数据利⽤该漏洞执行任意代码。

1.该漏洞出现在 /jbossmq-httpil/HTTPServerILServlet 请求中，本次实验借助 ysoserial 的 CommonsCollections5 利⽤链来利⽤该漏洞。你可以从 [1] 下载 ysoserial-all.jar ，也可以直接使⽤仓库中的 ysoserial-all.jar 。此处需要⼤家有 Java环境[2]。
```java
   java -jar ysoserial-all.jar CommonsCollections5 "touch /tmp/success" > poc.ser
```
2.发送漏洞利用
我们将poc.ser⽂件内容作为POST Body发送到目标靶机